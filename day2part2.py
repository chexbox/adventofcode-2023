with open("2input.txt") as f: print(sum([(lambda f, arg: f(f, arg))(lambda self, lst: 1 if len(lst) == 0 else lst[0] * self(self, lst[1:]), (lambda f, arg, arg2: f(f, arg, arg2))(lambda self, dct, lst: dct if len(lst) < 2 else self(self, (max(dct[0], int(lst[1])) if lst[0] == "red" else dct[0], max(dct[1], int(lst[1])) if lst[0] == "green" else dct[1], max(dct[2], int(lst[1])) if lst[0] == "blue" else dct[2]), lst[2:]), (0, 0, 0), sample.split(": ")[-1].replace(";", "").replace(",", "").split(" ")[::-1])) for sample in f.read().split("\n") if len(sample) > 0]))